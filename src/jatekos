import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

/**
 * A Jatekos oszt√°ly a program f≈ë vez√©rl≈ëje.
 *Bek√©ri a j√°t√©kos nev√©t, k√©ri a dob√°sokat,
 * majd a dobas oszt√°ly seg√≠ts√©g√©vel feldolgozza azokat.
 */
public class jatekos {
    private final String nev;
    private final List<String> dobasElozmenyek;

    public jatekos(String nev) {
        this.nev = nev;
        this.dobasElozmenyek = new ArrayList<>();
    }

    public void logDobas(String kifejezes, int eredmeny) {
        dobasElozmenyek.add(kifejezes + " ‚Üí " + eredmeny);
    }

    public void listazDobasok() {
        System.out.println("\nDob√°sok el≈ëzm√©nyei - " + nev + ":");
        if (dobasElozmenyek.isEmpty()) {
            System.out.println("  Nincs m√©g dob√°s.");
        } else {
            for (String d : dobasElozmenyek) {
                System.out.println("  " + d);
            }
        }
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        System.out.println("üé≤ DnD Dice Roller");
        System.out.print("Add meg a j√°t√©kos nev√©t: ");
        String nev = scanner.nextLine().trim();

        jatekos jatekos = new jatekos(nev);

        boolean folytat = true;

        while (folytat) {
            System.out.print("\n√çrj be egy dob√°st (pl. 1d20, 2d6+3): ");
            String input = scanner.nextLine().trim();

            try {
                int result = dobas.rollDice(input);
                System.out.println(jatekos.nev + " dob√°sa: " + result);
                jatekos.logDobas(input, result);
            } catch (IllegalArgumentException e) {
                System.out.println("Hib√°s form√°tum! Pr√≥b√°ld √∫jra (pl. 2d6+1)");
                continue;
            }

            // Megk√©rdezi a felhaszn√°l√≥t hogy szeretne e √∫jra dobni
            System.out.print("\nSzeretn√©l √∫jra dobni? (i/n): ");
            String valasz = scanner.nextLine().trim().toLowerCase();

            if (valasz.equals("n")) {
                folytat = false;
            }
        }


        System.out.println("\nKil√©p√©s...");
        jatekos.listazDobasok();

        scanner.close();

    }
}
